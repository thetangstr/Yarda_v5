# Yarda API - Railway Configuration
# Multi-environment setup for staging and production

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "cd /app/backend && uvicorn src.main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/v1/credits/balance"
healthcheckTimeout = 10

[environments.production]
builder = "NIXPACKS"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[environments.staging]
builder = "NIXPACKS"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
